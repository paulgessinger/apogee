{% extends "two_column.html" %}

{% block hero %}

<p class="title">
	Timeline
</p>
<p class="subtitle">
	Validation
</p>

{% endblock %}

{% block side_column %}
{% endblock %}

{% block main_column %}
<div class="field is-grouped">
	  <p class="control">
			<button class="button"
						hx-post={{ url_for('timeline.reload_commits') }}
						hx-target="#commits"
						{% if page != 1 %}hx-replace-url={{ url_for('timeline.index') }}{% endif %}
						>
						<span class="icon">
							<ion-icon name="logo-github"></ion-icon>
						</span>
							<span>
						Reload commits 
							</span>
			</button>
		</p>
	  <p class="control">
		<button class="button"
					hx-post={{ url_for('reload_pipelines', source='timeline', page=page) }}
					hx-target="#commits"
					>
						<span class="icon">
							<ion-icon name="logo-gitlab"></ion-icon>
						</span>
							<span>
					Reload pipelines
						</span>
		</button>
		</p>
	  <p class="control">
		<button class="button is-danger is-outlined"
					hx-post={{ url_for('reset_reverts') }}
					hx-target="#commits"
		 			hx-confirm="Reset all reverts?"
					>
					<span class="icon">
						<ion-icon name="play-back-outline"></ion-icon>
					</span>
					<span>Reset reverts</span>
		</button>
		</p>
	  <p class="control">
		<button class="button is-danger is-outlined"
					hx-post={{ url_for('reset_patches') }}
					hx-target="#commits"
		 			hx-confirm="Reset all patches?"
					>
					<span class="icon">
						<ion-icon name="bandage-outline"></ion-icon>
					</span>
					<span>Reset patches</span>
		</button>
		</p>
</div>


<hr/>
<section id="commits">
	{% include "commits.html" %}
</section>
{% endblock %}

