{% if is_htmx %}
{% with swap = true %}
{% include "notifications.html" %}
{% endwith %}
{% endif %}

<nav class="pagination" role="navigation" aria-label="pagination">
	{% set num_pages = total // per_page + 1 %}
	<a hx-boost="true" class="pagination-previous {{ 'is-disabled' if page == 1 else '' }}" {% if page > 1 -%}
		href="{{ url_for('timeline.index', page=page-1) }}"
		{%- endif %}>Previous</a>
	<a hx-boost="true" class="pagination-next {{ 'is-disabled' if page == num_pages else '' }}" {% if page < num_pages -%}
		href="{{ url_for('timeline.index', page=page+1) }}"
		{%- endif %}>Next page</a>
  <ul class="pagination-list">
		{% for i in range(1, num_pages+1) %}
    <li>
			<a hx-boost="true" href="{{ url_for('timeline.index', page=i) }}" class="pagination-link {{ 'is-current' if i == page else '' }}" aria-label="Goto page {{ i }}">{{ i }}</a>
    </li>
		{% endfor %}

  </ul>
</nav>

{% for commit in commits %}

{% with commit=commit, expanded=False %}
{% include "commit.html" %}
{% endwith %}

{% else %}
No commits
{% endfor %}

